<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lucene-core-API: org.apache.lucene.store.SimpleFSLockFactory Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lucene-core-API
   &#160;<span id="projectnumber">8.0.0-SNAPSHOT</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d59/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="../../dd/d04/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.apache.lucene.store.SimpleFSLockFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for org.apache.lucene.store.SimpleFSLockFactory:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d7c/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory__inherit__graph.png" border="0" usemap="#org_8apache_8lucene_8store_8_simple_f_s_lock_factory_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8apache_8lucene_8store_8_simple_f_s_lock_factory_inherit__map" id="org_8apache_8lucene_8store_8_simple_f_s_lock_factory_inherit__map">
<area shape="rect" id="node2" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html" title="Base class for file system based locking implementation. " alt="" coords="5,95,175,136"/>
<area shape="rect" id="node3" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html" title="org.apache.lucene.store.\lLockFactory" alt="" coords="5,5,175,47"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.apache.lucene.store.SimpleFSLockFactory:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d09/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory__coll__graph.png" border="0" usemap="#org_8apache_8lucene_8store_8_simple_f_s_lock_factory_coll__map" alt="Collaboration graph"/></div>
<map name="org_8apache_8lucene_8store_8_simple_f_s_lock_factory_coll__map" id="org_8apache_8lucene_8store_8_simple_f_s_lock_factory_coll__map">
<area shape="rect" id="node2" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html" title="Base class for file system based locking implementation. " alt="" coords="5,96,175,137"/>
<area shape="rect" id="node3" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html" title="org.apache.lucene.store.\lLockFactory" alt="" coords="5,5,175,47"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>SimpleFSLock</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab45654a27ab65b6bf4f8b06f54ecffa3"><td class="memItemLeft" align="right" valign="top"><a id="ab45654a27ab65b6bf4f8b06f54ecffa3"></a>
static final <a class="el" href="../../d7/d59/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory.html">SimpleFSLockFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d59/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory.html#ab45654a27ab65b6bf4f8b06f54ecffa3">INSTANCE</a> = new <a class="el" href="../../d7/d59/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory.html">SimpleFSLockFactory</a>()</td></tr>
<tr class="memdesc:ab45654a27ab65b6bf4f8b06f54ecffa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance. <br /></td></tr>
<tr class="separator:ab45654a27ab65b6bf4f8b06f54ecffa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html">org.apache.lucene.store.LockFactory</a></td></tr>
<tr class="memitem:ac0f13dfd874e0eaa2022870593eb5af0 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1store_1_1_lock.html">Lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html#ac0f13dfd874e0eaa2022870593eb5af0">obtainLock</a> (<a class="el" href="../../d3/dcb/classorg_1_1apache_1_1lucene_1_1store_1_1_directory.html">Directory</a> dir, String lockName)  throws IOException</td></tr>
<tr class="memdesc:ac0f13dfd874e0eaa2022870593eb5af0 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a new obtained <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1store_1_1_lock.html" title="An interprocess mutex lock. ">Lock</a> instance identified by lockName.  <a href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html#ac0f13dfd874e0eaa2022870593eb5af0">More...</a><br /></td></tr>
<tr class="separator:ac0f13dfd874e0eaa2022870593eb5af0 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory')"><img src="../../closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html">org.apache.lucene.store.FSLockFactory</a></td></tr>
<tr class="memitem:a53e9cf83935041dfbb0e0ef65a1f6472 inherit pub_static_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td class="memItemLeft" align="right" valign="top">static final <a class="el" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html">FSLockFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html#a53e9cf83935041dfbb0e0ef65a1f6472">getDefault</a> ()</td></tr>
<tr class="memdesc:a53e9cf83935041dfbb0e0ef65a1f6472 inherit pub_static_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default locking implementation for this platform.  <a href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html#a53e9cf83935041dfbb0e0ef65a1f6472">More...</a><br /></td></tr>
<tr class="separator:a53e9cf83935041dfbb0e0ef65a1f6472 inherit pub_static_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html">org.apache.lucene.store.FSLockFactory</a></td></tr>
<tr class="memitem:a6937977ed662c5b6af3647eb58353ca9 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1store_1_1_lock.html">Lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html#a6937977ed662c5b6af3647eb58353ca9">obtainFSLock</a> (<a class="el" href="../../d0/df5/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_directory.html">FSDirectory</a> dir, String lockName)  throws IOException</td></tr>
<tr class="memdesc:a6937977ed662c5b6af3647eb58353ca9 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement this method to obtain a lock for a <a class="el" href="../../d0/df5/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_directory.html" title="Base class for Directory implementations that store index files in the file system. ">FSDirectory</a> instance.  <a href="../../d1/dd0/classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory.html#a6937977ed662c5b6af3647eb58353ca9">More...</a><br /></td></tr>
<tr class="separator:a6937977ed662c5b6af3647eb58353ca9 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1store_1_1_f_s_lock_factory"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements <a class="el" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html">LockFactory</a> using <a class="el" href="../../">Files#createFile</a>.</p>
<p>The main downside with using this API for locking is that the Lucene write lock may not be released when the JVM exits abnormally.</p>
<p>When this happens, an <a class="el" href="../../d7/db3/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_obtain_failed_exception.html">LockObtainFailedException</a> is hit when trying to create a writer, in which case you may need to explicitly clear the lock file first by manually removing the file. But, first be certain that no writer is in fact writing to the index otherwise you can easily corrupt your index.</p>
<p>Special care needs to be taken if you change the locking implementation: First be certain that no writer is in fact writing to the index otherwise you can easily corrupt your index. Be sure to do the <a class="el" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html">LockFactory</a> change all Lucene instances and clean up all leftover lock files before starting the new configuration for the first time. Different implementations can not work together!</p>
<p>If you suspect that this or any other <a class="el" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html">LockFactory</a> is not working properly in your environment, you can easily test it by using <a class="el" href="../../dd/d32/classorg_1_1apache_1_1lucene_1_1store_1_1_verifying_lock_factory.html">VerifyingLockFactory</a>, <a class="el" href="../../d2/d37/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_verify_server.html">LockVerifyServer</a> and <a class="el" href="../../d8/dea/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_stress_test.html">LockStressTest</a>.</p>
<p>This is a singleton, you have to use <a class="el" href="../../d7/d59/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory.html#ab45654a27ab65b6bf4f8b06f54ecffa3">INSTANCE</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/dac/classorg_1_1apache_1_1lucene_1_1store_1_1_lock_factory.html">LockFactory</a> </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/vkroz/src/oss/lucene-solr/lucene/core/src/java/org/apache/lucene/store/SimpleFSLockFactory.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>apache</b></li><li class="navelem"><a class="el" href="../../d8/d76/namespaceorg_1_1apache_1_1lucene.html">lucene</a></li><li class="navelem"><a class="el" href="../../d5/dd9/namespaceorg_1_1apache_1_1lucene_1_1store.html">store</a></li><li class="navelem"><a class="el" href="../../d7/d59/classorg_1_1apache_1_1lucene_1_1store_1_1_simple_f_s_lock_factory.html">SimpleFSLockFactory</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
