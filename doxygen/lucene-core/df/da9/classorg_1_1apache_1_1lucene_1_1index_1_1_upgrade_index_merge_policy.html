<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lucene-core-API: org.apache.lucene.index.UpgradeIndexMergePolicy Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lucene-core-API
   &#160;<span id="projectnumber">8.0.0-SNAPSHOT</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/da9/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d3/d5a/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.apache.lucene.index.UpgradeIndexMergePolicy Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a> is used for upgrading all existing segments of an index when calling <a class="el" href="../../df/dbc/classorg_1_1apache_1_1lucene_1_1index_1_1_index_writer.html#ad43c2e7d16d5d9e3a41e50a05316f0e5">IndexWriter#forceMerge(int)</a>.  
 <a href="../../df/da9/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for org.apache.lucene.index.UpgradeIndexMergePolicy:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d11/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy__inherit__graph.png" border="0" usemap="#org_8apache_8lucene_8index_8_upgrade_index_merge_policy_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8apache_8lucene_8index_8_upgrade_index_merge_policy_inherit__map" id="org_8apache_8lucene_8index_8_upgrade_index_merge_policy_inherit__map">
<area shape="rect" id="node2" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html" title="A wrapper for MergePolicy instances. " alt="" coords="9,95,180,136"/>
<area shape="rect" id="node3" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html" title="org.apache.lucene.index.\lMergePolicy" alt="" coords="9,5,180,47"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.apache.lucene.index.UpgradeIndexMergePolicy:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d7f/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy__coll__graph.png" border="0" usemap="#org_8apache_8lucene_8index_8_upgrade_index_merge_policy_coll__map" alt="Collaboration graph"/></div>
<map name="org_8apache_8lucene_8index_8_upgrade_index_merge_policy_coll__map" id="org_8apache_8lucene_8index_8_upgrade_index_merge_policy_coll__map">
<area shape="rect" id="node2" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html" title="A wrapper for MergePolicy instances. " alt="" coords="9,109,180,151"/>
<area shape="rect" id="node3" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html" title="org.apache.lucene.index.\lMergePolicy" alt="" coords="9,5,180,47"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab65e692815975aa8abaacbb53c082ddc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da9/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy.html#ab65e692815975aa8abaacbb53c082ddc">UpgradeIndexMergePolicy</a> (<a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a> <a class="el" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html#a0eb67ba4f064657c31620ff80a94ea65">in</a>)</td></tr>
<tr class="memdesc:ab65e692815975aa8abaacbb53c082ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrap the given <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a> and intercept forceMerge requests to only upgrade segments written with previous Lucene versions.  <a href="#ab65e692815975aa8abaacbb53c082ddc">More...</a><br /></td></tr>
<tr class="separator:ab65e692815975aa8abaacbb53c082ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html">org.apache.lucene.index.FilterMergePolicy</a></td></tr>
<tr class="memitem:aff93a7f2465da0166cf648ba307360a6 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html#aff93a7f2465da0166cf648ba307360a6">FilterMergePolicy</a> (<a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a> <a class="el" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html#a0eb67ba4f064657c31620ff80a94ea65">in</a>)</td></tr>
<tr class="memdesc:aff93a7f2465da0166cf648ba307360a6 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new filter merge policy instance wrapping another.  <a href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html#aff93a7f2465da0166cf648ba307360a6">More...</a><br /></td></tr>
<tr class="separator:aff93a7f2465da0166cf648ba307360a6 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">org.apache.lucene.index.MergePolicy</a></td></tr>
<tr class="memitem:aad1a022c2d54ccfbe5276eebbab10396 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top"><a id="aad1a022c2d54ccfbe5276eebbab10396"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aad1a022c2d54ccfbe5276eebbab10396">MergePolicy</a> ()</td></tr>
<tr class="memdesc:aad1a022c2d54ccfbe5276eebbab10396 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new merge policy instance. <br /></td></tr>
<tr class="separator:aad1a022c2d54ccfbe5276eebbab10396 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43de271663913ac98826e6a624a29769 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">abstract MergeSpecification&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a43de271663913ac98826e6a624a29769">findMerges</a> (<a class="el" href="../../dd/dd6/enumorg_1_1apache_1_1lucene_1_1index_1_1_merge_trigger.html">MergeTrigger</a> mergeTrigger, <a class="el" href="../../d7/dd4/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_infos.html">SegmentInfos</a> segmentInfos, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)  throws IOException</td></tr>
<tr class="memdesc:a43de271663913ac98826e6a624a29769 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine what set of merge operations are now necessary on the index.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a43de271663913ac98826e6a624a29769">More...</a><br /></td></tr>
<tr class="separator:a43de271663913ac98826e6a624a29769 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4128ff62c94f999fa6aa4639cad6f298 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">abstract MergeSpecification&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a4128ff62c94f999fa6aa4639cad6f298">findForcedMerges</a> (<a class="el" href="../../d7/dd4/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_infos.html">SegmentInfos</a> segmentInfos, int maxSegmentCount, Map&lt; <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a>, Boolean &gt; segmentsToMerge, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)  throws IOException</td></tr>
<tr class="memdesc:a4128ff62c94f999fa6aa4639cad6f298 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine what set of merge operations is necessary in order to merge to.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a4128ff62c94f999fa6aa4639cad6f298">More...</a><br /></td></tr>
<tr class="separator:a4128ff62c94f999fa6aa4639cad6f298 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515d2a52956474fe03904b98441a15e3 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">abstract MergeSpecification&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a515d2a52956474fe03904b98441a15e3">findForcedDeletesMerges</a> (<a class="el" href="../../d7/dd4/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_infos.html">SegmentInfos</a> segmentInfos, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)  throws IOException</td></tr>
<tr class="memdesc:a515d2a52956474fe03904b98441a15e3 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine what set of merge operations is necessary in order to expunge all deletes from the index.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a515d2a52956474fe03904b98441a15e3">More...</a><br /></td></tr>
<tr class="separator:a515d2a52956474fe03904b98441a15e3 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860edc0b0f598ea80602d2d9cc9ad1e6 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a860edc0b0f598ea80602d2d9cc9ad1e6">useCompoundFile</a> (<a class="el" href="../../d7/dd4/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_infos.html">SegmentInfos</a> infos, <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> mergedInfo, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)  throws IOException </td></tr>
<tr class="memdesc:a860edc0b0f598ea80602d2d9cc9ad1e6 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a new segment (regardless of its origin) should use the compound file format.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a860edc0b0f598ea80602d2d9cc9ad1e6">More...</a><br /></td></tr>
<tr class="separator:a860edc0b0f598ea80602d2d9cc9ad1e6 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7b62c389429c6503ec5e20ce0e66de inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a5f7b62c389429c6503ec5e20ce0e66de">getNoCFSRatio</a> ()</td></tr>
<tr class="memdesc:a5f7b62c389429c6503ec5e20ce0e66de inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a5f7b62c389429c6503ec5e20ce0e66de">More...</a><br /></td></tr>
<tr class="separator:a5f7b62c389429c6503ec5e20ce0e66de inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d302f81a00b81a30f11857b3dc251ed inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a9d302f81a00b81a30f11857b3dc251ed">setNoCFSRatio</a> (double <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a48aca158f2feb6c6a64bb5b5de1d52fb">noCFSRatio</a>)</td></tr>
<tr class="memdesc:a9d302f81a00b81a30f11857b3dc251ed inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a merged segment will be more than this percentage of the total size of the index, leave the segment as non-compound file even if compound file is enabled.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a9d302f81a00b81a30f11857b3dc251ed">More...</a><br /></td></tr>
<tr class="separator:a9d302f81a00b81a30f11857b3dc251ed inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb540cb273f6e238ac9d8272b09762ac inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top"><a id="adb540cb273f6e238ac9d8272b09762ac"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#adb540cb273f6e238ac9d8272b09762ac">getMaxCFSSegmentSizeMB</a> ()</td></tr>
<tr class="memdesc:adb540cb273f6e238ac9d8272b09762ac inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the largest size allowed for a compound file segment. <br /></td></tr>
<tr class="separator:adb540cb273f6e238ac9d8272b09762ac inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5b1aa181d6e8e8a33aaca366634688 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a8a5b1aa181d6e8e8a33aaca366634688">setMaxCFSSegmentSizeMB</a> (double v)</td></tr>
<tr class="memdesc:a8a5b1aa181d6e8e8a33aaca366634688 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a merged segment will be more than this value, leave the segment as non-compound file even if compound file is enabled.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a8a5b1aa181d6e8e8a33aaca366634688">More...</a><br /></td></tr>
<tr class="separator:a8a5b1aa181d6e8e8a33aaca366634688 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ea891051aec7617ac9a7ca79991669 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#ae5ea891051aec7617ac9a7ca79991669">keepFullyDeletedSegment</a> (<a class="el" href="../../d7/d76/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_i_o_supplier.html">IOSupplier</a>&lt; <a class="el" href="../../d7/deb/classorg_1_1apache_1_1lucene_1_1index_1_1_codec_reader.html">CodecReader</a> &gt; readerIOSupplier)  throws IOException </td></tr>
<tr class="memdesc:ae5ea891051aec7617ac9a7ca79991669 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the segment represented by the given <a class="el" href="../../d7/deb/classorg_1_1apache_1_1lucene_1_1index_1_1_codec_reader.html" title="LeafReader implemented by codec APIs. ">CodecReader</a> should be keep even if it's fully deleted.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#ae5ea891051aec7617ac9a7ca79991669">More...</a><br /></td></tr>
<tr class="separator:ae5ea891051aec7617ac9a7ca79991669 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2933bf91f60a20fc4cf406bbef7223 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#afa2933bf91f60a20fc4cf406bbef7223">numDeletesToMerge</a> (<a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> info, int delCount, <a class="el" href="../../d7/d76/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_i_o_supplier.html">IOSupplier</a>&lt; <a class="el" href="../../d7/deb/classorg_1_1apache_1_1lucene_1_1index_1_1_codec_reader.html">CodecReader</a> &gt; readerSupplier)  throws IOException </td></tr>
<tr class="memdesc:afa2933bf91f60a20fc4cf406bbef7223 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of deletes that a merge would claim on the given segment.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#afa2933bf91f60a20fc4cf406bbef7223">More...</a><br /></td></tr>
<tr class="separator:afa2933bf91f60a20fc4cf406bbef7223 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a77c110c73ade6e761e1ace7254d109bc"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da9/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy.html#a77c110c73ade6e761e1ace7254d109bc">shouldUpgradeSegment</a> (<a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> si)</td></tr>
<tr class="memdesc:a77c110c73ade6e761e1ace7254d109bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if the given segment should be upgraded.  <a href="#a77c110c73ade6e761e1ace7254d109bc">More...</a><br /></td></tr>
<tr class="separator:a77c110c73ade6e761e1ace7254d109bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">org.apache.lucene.index.MergePolicy</a></td></tr>
<tr class="memitem:a86746c71a486d957ec391ecfaf5009e3 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a86746c71a486d957ec391ecfaf5009e3">MergePolicy</a> (double defaultNoCFSRatio, long defaultMaxCFSSegmentSize)</td></tr>
<tr class="memdesc:a86746c71a486d957ec391ecfaf5009e3 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new merge policy instance with default settings for noCFSRatio and maxCFSSegmentSize.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a86746c71a486d957ec391ecfaf5009e3">More...</a><br /></td></tr>
<tr class="separator:a86746c71a486d957ec391ecfaf5009e3 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ebb41c1e60781baa4520e401a413f01 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a9ebb41c1e60781baa4520e401a413f01">size</a> (<a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> info, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)  throws IOException </td></tr>
<tr class="memdesc:a9ebb41c1e60781baa4520e401a413f01 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the byte size of the provided <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a>, pro-rated by percentage of non-deleted documents is set.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a9ebb41c1e60781baa4520e401a413f01">More...</a><br /></td></tr>
<tr class="separator:a9ebb41c1e60781baa4520e401a413f01 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef8f1bd18bec9cfed08a5ca2ffb0acd inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top"><a id="acef8f1bd18bec9cfed08a5ca2ffb0acd"></a>
final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#acef8f1bd18bec9cfed08a5ca2ffb0acd">assertDelCount</a> (int delCount, <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> info)</td></tr>
<tr class="memdesc:acef8f1bd18bec9cfed08a5ca2ffb0acd inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserts that the delCount for this <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html" title="Embeds a [read-only] SegmentInfo and adds per-commit fields. ">SegmentCommitInfo</a> is valid. <br /></td></tr>
<tr class="separator:acef8f1bd18bec9cfed08a5ca2ffb0acd inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b4d1aab7a5d5e6dfff82eb9ad4a79d inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top"><a id="af2b4d1aab7a5d5e6dfff82eb9ad4a79d"></a>
final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#af2b4d1aab7a5d5e6dfff82eb9ad4a79d">isMerged</a> (<a class="el" href="../../d7/dd4/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_infos.html">SegmentInfos</a> infos, <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> info, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)  throws IOException </td></tr>
<tr class="memdesc:af2b4d1aab7a5d5e6dfff82eb9ad4a79d inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this single info is already fully merged (has no pending deletes, is in the same dir as the writer, and matches the current compound file setting. <br /></td></tr>
<tr class="separator:af2b4d1aab7a5d5e6dfff82eb9ad4a79d inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db5c7d0977aac0f51c519c5ae6acc05 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top"><a id="a0db5c7d0977aac0f51c519c5ae6acc05"></a>
final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a0db5c7d0977aac0f51c519c5ae6acc05">segString</a> (<a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext, Iterable&lt; <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a> &gt; infos)</td></tr>
<tr class="memdesc:a0db5c7d0977aac0f51c519c5ae6acc05 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a String representation of the given <a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html" title="Embeds a [read-only] SegmentInfo and adds per-commit fields. ">SegmentCommitInfo</a> instances. <br /></td></tr>
<tr class="separator:a0db5c7d0977aac0f51c519c5ae6acc05 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff87fc271c4810c7a572a5cc465a3f8d inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aff87fc271c4810c7a572a5cc465a3f8d">message</a> (String message, <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)</td></tr>
<tr class="memdesc:aff87fc271c4810c7a572a5cc465a3f8d inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a debug message to <a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a>'s.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aff87fc271c4810c7a572a5cc465a3f8d">More...</a><br /></td></tr>
<tr class="separator:aff87fc271c4810c7a572a5cc465a3f8d inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29240d9b3353d55b12acc96b5f1ac48 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#ae29240d9b3353d55b12acc96b5f1ac48">verbose</a> (<a class="el" href="../../d2/d9b/interfaceorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy_1_1_merge_context.html">MergeContext</a> mergeContext)</td></tr>
<tr class="memdesc:ae29240d9b3353d55b12acc96b5f1ac48 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the info-stream is in verbose mode.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#ae29240d9b3353d55b12acc96b5f1ac48">More...</a><br /></td></tr>
<tr class="separator:ae29240d9b3353d55b12acc96b5f1ac48 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html">org.apache.lucene.index.FilterMergePolicy</a></td></tr>
<tr class="memitem:a0eb67ba4f064657c31620ff80a94ea65 inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html#a0eb67ba4f064657c31620ff80a94ea65">in</a></td></tr>
<tr class="memdesc:a0eb67ba4f064657c31620ff80a94ea65 inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">The wrapped <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a>.  <a href="../../d5/d8a/classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy.html#a0eb67ba4f064657c31620ff80a94ea65">More...</a><br /></td></tr>
<tr class="separator:a0eb67ba4f064657c31620ff80a94ea65 inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_filter_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">org.apache.lucene.index.MergePolicy</a></td></tr>
<tr class="memitem:a48aca158f2feb6c6a64bb5b5de1d52fb inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top"><a id="a48aca158f2feb6c6a64bb5b5de1d52fb"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a48aca158f2feb6c6a64bb5b5de1d52fb">noCFSRatio</a> = <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a8726975b690fd23559a1f3a57de9caa6">DEFAULT_NO_CFS_RATIO</a></td></tr>
<tr class="memdesc:a48aca158f2feb6c6a64bb5b5de1d52fb inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the size of the merge segment exceeds this ratio of the total index size then it will remain in non-compound format. <br /></td></tr>
<tr class="separator:a48aca158f2feb6c6a64bb5b5de1d52fb inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff9512d7b80ce5c537a55151c693f6e inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aeff9512d7b80ce5c537a55151c693f6e">maxCFSSegmentSize</a> = <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a2c96e6ab195ad84ce9f7ceee20de89a7">DEFAULT_MAX_CFS_SEGMENT_SIZE</a></td></tr>
<tr class="memdesc:aeff9512d7b80ce5c537a55151c693f6e inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the size of the merged segment exceeds this value then it will not use compound file format.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aeff9512d7b80ce5c537a55151c693f6e">More...</a><br /></td></tr>
<tr class="separator:aeff9512d7b80ce5c537a55151c693f6e inherit pro_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td colspan="2" onclick="javascript:toggleInherit('pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy')"><img src="../../closed.png" alt="-"/>&#160;Static Protected Attributes inherited from <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">org.apache.lucene.index.MergePolicy</a></td></tr>
<tr class="memitem:a8726975b690fd23559a1f3a57de9caa6 inherit pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">static final double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a8726975b690fd23559a1f3a57de9caa6">DEFAULT_NO_CFS_RATIO</a> = 1.0</td></tr>
<tr class="memdesc:a8726975b690fd23559a1f3a57de9caa6 inherit pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default ratio for compound file system usage.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a8726975b690fd23559a1f3a57de9caa6">More...</a><br /></td></tr>
<tr class="separator:a8726975b690fd23559a1f3a57de9caa6 inherit pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c96e6ab195ad84ce9f7ceee20de89a7 inherit pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memItemLeft" align="right" valign="top">static final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a2c96e6ab195ad84ce9f7ceee20de89a7">DEFAULT_MAX_CFS_SEGMENT_SIZE</a> = Long.MAX_VALUE</td></tr>
<tr class="memdesc:a2c96e6ab195ad84ce9f7ceee20de89a7 inherit pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default max segment size in order to use compound file system.  <a href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#a2c96e6ab195ad84ce9f7ceee20de89a7">More...</a><br /></td></tr>
<tr class="separator:a2c96e6ab195ad84ce9f7ceee20de89a7 inherit pro_static_attribs_classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a> is used for upgrading all existing segments of an index when calling <a class="el" href="../../df/dbc/classorg_1_1apache_1_1lucene_1_1index_1_1_index_writer.html#ad43c2e7d16d5d9e3a41e50a05316f0e5">IndexWriter#forceMerge(int)</a>. </p>
<p>All other methods delegate to the base</p><div class="fragment"><div class="line"><a class="code" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aad1a022c2d54ccfbe5276eebbab10396">MergePolicy</a> </div></div><!-- fragment --><p> given to the constructor. This allows for an as-cheap-as possible upgrade of an older index by only upgrading segments that are created by previous Lucene versions. forceMerge does no longer really merge; it is just used to &quot;forceMerge&quot; older segment versions away. </p>
<p>In general one would use <a class="el" href="../../df/d84/classorg_1_1apache_1_1lucene_1_1index_1_1_index_upgrader.html">IndexUpgrader</a>, but for a fully customizeable upgrade, you can use this like any other</p><div class="fragment"><div class="line"><a class="code" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aad1a022c2d54ccfbe5276eebbab10396">MergePolicy</a> </div></div><!-- fragment --><p> and call <a class="el" href="../../df/dbc/classorg_1_1apache_1_1lucene_1_1index_1_1_index_writer.html#ad43c2e7d16d5d9e3a41e50a05316f0e5">IndexWriter#forceMerge(int)</a>: </p><pre class="prettyprint lang-java">
 <a class="el" href="../../d2/dbd/classorg_1_1apache_1_1lucene_1_1index_1_1_index_writer_config.html" title="Holds all the configuration that is used to create an IndexWriter. ">IndexWriterConfig</a> iwc = new <a class="el" href="../../d2/dbd/classorg_1_1apache_1_1lucene_1_1index_1_1_index_writer_config.html" title="Holds all the configuration that is used to create an IndexWriter. ">IndexWriterConfig</a>(Version.LUCENE_XX, new KeywordAnalyzer());
 iwc.setMergePolicy(new <a class="el" href="../../df/da9/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy.html" title="This MergePolicy is used for upgrading all existing segments of an index when calling IndexWriter#for...">UpgradeIndexMergePolicy</a>(iwc.getMergePolicy()));
 <a class="el" href="../../df/dbc/classorg_1_1apache_1_1lucene_1_1index_1_1_index_writer.html" title="An IndexWriter creates and maintains an index. ">IndexWriter</a> w = new IndexWriter(dir, iwc);
 w.forceMerge(1);
 w.close();
</pre> <p><b>Warning:</b> This merge policy may reorder documents if the index was partially upgraded before calling forceMerge (e.g., documents were added). If your application relies on &quot;monotonicity&quot; of doc IDs (which means that the order in which the documents were added to the index is preserved), do a forceMerge(1) instead. Please note, the delegate</p><div class="fragment"><div class="line"><a class="code" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html#aad1a022c2d54ccfbe5276eebbab10396">MergePolicy</a> </div></div><!-- fragment --><p> may also reorder documents. .experimental </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d84/classorg_1_1apache_1_1lucene_1_1index_1_1_index_upgrader.html" title="This is an easy-to-use tool that upgrades all segments of an index from previous Lucene versions to t...">IndexUpgrader</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab65e692815975aa8abaacbb53c082ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65e692815975aa8abaacbb53c082ddc">&#9670;&nbsp;</a></span>UpgradeIndexMergePolicy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.apache.lucene.index.UpgradeIndexMergePolicy.UpgradeIndexMergePolicy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a>&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrap the given <a class="el" href="../../d3/d42/classorg_1_1apache_1_1lucene_1_1index_1_1_merge_policy.html">MergePolicy</a> and intercept forceMerge requests to only upgrade segments written with previous Lucene versions. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a77c110c73ade6e761e1ace7254d109bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c110c73ade6e761e1ace7254d109bc">&#9670;&nbsp;</a></span>shouldUpgradeSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.apache.lucene.index.UpgradeIndexMergePolicy.shouldUpgradeSegment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/df8/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_commit_info.html">SegmentCommitInfo</a>&#160;</td>
          <td class="paramname"><em>si</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if the given segment should be upgraded. </p>
<p>The default implementation will return</p><div class="fragment"><div class="line">!Version.LATEST.equals(si.getVersion()) </div></div><!-- fragment --><p> , so all segments created with a different version number than this Lucene version will get upgraded. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/vkroz/src/oss/lucene-solr/lucene/core/src/java/org/apache/lucene/index/UpgradeIndexMergePolicy.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>apache</b></li><li class="navelem"><a class="el" href="../../d8/d76/namespaceorg_1_1apache_1_1lucene.html">lucene</a></li><li class="navelem"><a class="el" href="../../d2/d12/namespaceorg_1_1apache_1_1lucene_1_1index.html">index</a></li><li class="navelem"><a class="el" href="../../df/da9/classorg_1_1apache_1_1lucene_1_1index_1_1_upgrade_index_merge_policy.html">UpgradeIndexMergePolicy</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
