<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lucene-core-API: org.apache.lucene.search.LRUQueryCache Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lucene-core-API
   &#160;<span id="projectnumber">8.0.0-SNAPSHOT</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d0/dc8/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.apache.lucene.search.LRUQueryCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html">QueryCache</a> that evicts queries using a LRU (least-recently-used) eviction policy in order to remain under a given maximum size and number of bytes used.  
 <a href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for org.apache.lucene.search.LRUQueryCache:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d93/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache__inherit__graph.png" border="0" usemap="#org_8apache_8lucene_8search_8_l_r_u_query_cache_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8apache_8lucene_8search_8_l_r_u_query_cache_inherit__map" id="org_8apache_8lucene_8search_8_l_r_u_query_cache_inherit__map">
<area shape="rect" id="node2" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html" title="A cache for queries. " alt="" coords="5,5,184,47"/>
<area shape="rect" id="node3" href="../../db/de6/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_accountable.html" title="An object whose RAM usage can be computed. " alt="" coords="208,13,437,39"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.apache.lucene.search.LRUQueryCache:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dff/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache__coll__graph.png" border="0" usemap="#org_8apache_8lucene_8search_8_l_r_u_query_cache_coll__map" alt="Collaboration graph"/></div>
<map name="org_8apache_8lucene_8search_8_l_r_u_query_cache_coll__map" id="org_8apache_8lucene_8search_8_l_r_u_query_cache_coll__map">
<area shape="rect" id="node2" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html" title="A cache for queries. " alt="" coords="5,5,184,47"/>
<area shape="rect" id="node3" href="../../db/de6/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_accountable.html" title="An object whose RAM usage can be computed. " alt="" coords="208,13,437,39"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>MinSegmentSizePredicate</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a97fa69a667a2cac3e88ac9d073faa4f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a97fa69a667a2cac3e88ac9d073faa4f1">LRUQueryCache</a> (int maxSize, long maxRamBytesUsed, Predicate&lt; <a class="el" href="../../d6/d79/classorg_1_1apache_1_1lucene_1_1index_1_1_leaf_reader_context.html">LeafReaderContext</a> &gt; leavesToCache)</td></tr>
<tr class="memdesc:a97fa69a667a2cac3e88ac9d073faa4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: Create a new instance that will cache at most <code>maxSize</code> queries with at most <code>maxRamBytesUsed</code> bytes of memory, only on leaves that satisfy.  <a href="#a97fa69a667a2cac3e88ac9d073faa4f1">More...</a><br /></td></tr>
<tr class="separator:a97fa69a667a2cac3e88ac9d073faa4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123c3425602dc85e31f3935398356ab6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a123c3425602dc85e31f3935398356ab6">LRUQueryCache</a> (int maxSize, long maxRamBytesUsed)</td></tr>
<tr class="memdesc:a123c3425602dc85e31f3935398356ab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new instance that will cache at most <code>maxSize</code> queries with at most <code>maxRamBytesUsed</code> bytes of memory.  <a href="#a123c3425602dc85e31f3935398356ab6">More...</a><br /></td></tr>
<tr class="separator:a123c3425602dc85e31f3935398356ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6080b4b327568e3a56a22483dfc6f9cf"><td class="memItemLeft" align="right" valign="top"><a id="a6080b4b327568e3a56a22483dfc6f9cf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a6080b4b327568e3a56a22483dfc6f9cf">clearCoreCacheKey</a> (Object coreKey)</td></tr>
<tr class="memdesc:a6080b4b327568e3a56a22483dfc6f9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all cache entries for the given core cache key. <br /></td></tr>
<tr class="separator:a6080b4b327568e3a56a22483dfc6f9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9cd016fc879043feda678853140346"><td class="memItemLeft" align="right" valign="top"><a id="a7b9cd016fc879043feda678853140346"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a7b9cd016fc879043feda678853140346">clearQuery</a> (<a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> query)</td></tr>
<tr class="memdesc:a7b9cd016fc879043feda678853140346"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all cache entries for the given query. <br /></td></tr>
<tr class="separator:a7b9cd016fc879043feda678853140346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fed60300df96e5de3b20874b55ae414"><td class="memItemLeft" align="right" valign="top"><a id="a1fed60300df96e5de3b20874b55ae414"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a1fed60300df96e5de3b20874b55ae414">clear</a> ()</td></tr>
<tr class="memdesc:a1fed60300df96e5de3b20874b55ae414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the content of this cache. <br /></td></tr>
<tr class="separator:a1fed60300df96e5de3b20874b55ae414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb722e26a2358385481ace382d882b1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/df5/classorg_1_1apache_1_1lucene_1_1search_1_1_weight.html">Weight</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#adb722e26a2358385481ace382d882b1d">doCache</a> (<a class="el" href="../../dd/df5/classorg_1_1apache_1_1lucene_1_1search_1_1_weight.html">Weight</a> weight, <a class="el" href="../../dc/d59/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_caching_policy.html">QueryCachingPolicy</a> policy)</td></tr>
<tr class="memdesc:adb722e26a2358385481ace382d882b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a wrapper around the provided <code>weight</code> that will cache matching docs per-segment accordingly to the given <code>policy</code>.  <a href="#adb722e26a2358385481ace382d882b1d">More...</a><br /></td></tr>
<tr class="separator:adb722e26a2358385481ace382d882b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20168196c43708d7981180e8a0ad143c"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a20168196c43708d7981180e8a0ad143c">ramBytesUsed</a> ()</td></tr>
<tr class="memdesc:a20168196c43708d7981180e8a0ad143c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the memory usage of this object in bytes.  <a href="#a20168196c43708d7981180e8a0ad143c">More...</a><br /></td></tr>
<tr class="separator:a20168196c43708d7981180e8a0ad143c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89ec3acc37280826701db77718f596d"><td class="memItemLeft" align="right" valign="top">Collection&lt; <a class="el" href="../../db/de6/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_accountable.html">Accountable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#af89ec3acc37280826701db77718f596d">getChildResources</a> ()</td></tr>
<tr class="memdesc:af89ec3acc37280826701db77718f596d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns nested resources of this class.  <a href="#af89ec3acc37280826701db77718f596d">More...</a><br /></td></tr>
<tr class="separator:af89ec3acc37280826701db77718f596d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf118f20a800a73a1bad20ee6feb5b7"><td class="memItemLeft" align="right" valign="top">final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7">getTotalCount</a> ()</td></tr>
<tr class="memdesc:a4cf118f20a800a73a1bad20ee6feb5b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of times that a <a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> has been looked up in this <a class="el" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html">QueryCache</a>.  <a href="#a4cf118f20a800a73a1bad20ee6feb5b7">More...</a><br /></td></tr>
<tr class="separator:a4cf118f20a800a73a1bad20ee6feb5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab905f9a1eefb063fa1844bb342269b47"><td class="memItemLeft" align="right" valign="top">final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ab905f9a1eefb063fa1844bb342269b47">getHitCount</a> ()</td></tr>
<tr class="memdesc:ab905f9a1eefb063fa1844bb342269b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Over the <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7">total</a> number of times that a query has been looked up, return how many times a cached <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a> has been found and returned.  <a href="#ab905f9a1eefb063fa1844bb342269b47">More...</a><br /></td></tr>
<tr class="separator:ab905f9a1eefb063fa1844bb342269b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ecb4cb38b2302bc86d8430ac61b89c"><td class="memItemLeft" align="right" valign="top">final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a29ecb4cb38b2302bc86d8430ac61b89c">getMissCount</a> ()</td></tr>
<tr class="memdesc:a29ecb4cb38b2302bc86d8430ac61b89c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Over the <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7">total</a> number of times that a query has been looked up, return how many times this query was not contained in the cache.  <a href="#a29ecb4cb38b2302bc86d8430ac61b89c">More...</a><br /></td></tr>
<tr class="separator:a29ecb4cb38b2302bc86d8430ac61b89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751a12f1df8c8a5eae6b544a1e0ca759"><td class="memItemLeft" align="right" valign="top">final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a751a12f1df8c8a5eae6b544a1e0ca759">getCacheSize</a> ()</td></tr>
<tr class="memdesc:a751a12f1df8c8a5eae6b544a1e0ca759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a>s which are currently stored in the cache.  <a href="#a751a12f1df8c8a5eae6b544a1e0ca759">More...</a><br /></td></tr>
<tr class="separator:a751a12f1df8c8a5eae6b544a1e0ca759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b6779667c0a048ef06d70631303583"><td class="memItemLeft" align="right" valign="top">final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a11b6779667c0a048ef06d70631303583">getCacheCount</a> ()</td></tr>
<tr class="memdesc:a11b6779667c0a048ef06d70631303583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of cache entries that have been generated and put in the cache.  <a href="#a11b6779667c0a048ef06d70631303583">More...</a><br /></td></tr>
<tr class="separator:a11b6779667c0a048ef06d70631303583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438d535320c9cf6190723825d2f8e0b2"><td class="memItemLeft" align="right" valign="top">final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a438d535320c9cf6190723825d2f8e0b2">getEvictionCount</a> ()</td></tr>
<tr class="memdesc:a438d535320c9cf6190723825d2f8e0b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of cache entries that have been removed from the cache either in order to stay under the maximum configured size/ram usage, or because a segment has been closed.  <a href="#a438d535320c9cf6190723825d2f8e0b2">More...</a><br /></td></tr>
<tr class="separator:a438d535320c9cf6190723825d2f8e0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af5eaeb375f6ab8eaf663cc691f7b3e0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#af5eaeb375f6ab8eaf663cc691f7b3e0b">onHit</a> (Object readerCoreKey, <a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> query)</td></tr>
<tr class="memdesc:af5eaeb375f6ab8eaf663cc691f7b3e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when there is a cache hit on a given query.  <a href="#af5eaeb375f6ab8eaf663cc691f7b3e0b">More...</a><br /></td></tr>
<tr class="separator:af5eaeb375f6ab8eaf663cc691f7b3e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8222ec09172dbc0a222c10cf27e3cfb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a8222ec09172dbc0a222c10cf27e3cfb3">onMiss</a> (Object readerCoreKey, <a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> query)</td></tr>
<tr class="memdesc:a8222ec09172dbc0a222c10cf27e3cfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when there is a cache miss on a given query.  <a href="#a8222ec09172dbc0a222c10cf27e3cfb3">More...</a><br /></td></tr>
<tr class="separator:a8222ec09172dbc0a222c10cf27e3cfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d62dcb9fc5bd40632fc949fda53fd41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a1d62dcb9fc5bd40632fc949fda53fd41">onQueryCache</a> (<a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> query, long ramBytesUsed)</td></tr>
<tr class="memdesc:a1d62dcb9fc5bd40632fc949fda53fd41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when a query is added to this cache.  <a href="#a1d62dcb9fc5bd40632fc949fda53fd41">More...</a><br /></td></tr>
<tr class="separator:a1d62dcb9fc5bd40632fc949fda53fd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32635e93b4a0e4888687d2e1b3e93c0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a32635e93b4a0e4888687d2e1b3e93c0b">onQueryEviction</a> (<a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> query, long ramBytesUsed)</td></tr>
<tr class="memdesc:a32635e93b4a0e4888687d2e1b3e93c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when a query is evicted from this cache.  <a href="#a32635e93b4a0e4888687d2e1b3e93c0b">More...</a><br /></td></tr>
<tr class="separator:a32635e93b4a0e4888687d2e1b3e93c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b00db53937297414eca49acf29a6a8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a6b00db53937297414eca49acf29a6a8e">onDocIdSetCache</a> (Object readerCoreKey, long ramBytesUsed)</td></tr>
<tr class="memdesc:a6b00db53937297414eca49acf29a6a8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when a <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a> is added to this cache.  <a href="#a6b00db53937297414eca49acf29a6a8e">More...</a><br /></td></tr>
<tr class="separator:a6b00db53937297414eca49acf29a6a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10b01fd451ba8890f362930d2149699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ac10b01fd451ba8890f362930d2149699">onDocIdSetEviction</a> (Object readerCoreKey, int numEntries, long sumRamBytesUsed)</td></tr>
<tr class="memdesc:ac10b01fd451ba8890f362930d2149699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when one or more <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a>s are removed from this cache.  <a href="#ac10b01fd451ba8890f362930d2149699">More...</a><br /></td></tr>
<tr class="separator:ac10b01fd451ba8890f362930d2149699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236a950d3a28a3a43d1a46e6fb7d9330"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a236a950d3a28a3a43d1a46e6fb7d9330">onClear</a> ()</td></tr>
<tr class="memdesc:a236a950d3a28a3a43d1a46e6fb7d9330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expert: callback when the cache is completely cleared.  <a href="#a236a950d3a28a3a43d1a46e6fb7d9330">More...</a><br /></td></tr>
<tr class="separator:a236a950d3a28a3a43d1a46e6fb7d9330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fac5b8990b819f749527de4858424c4"><td class="memItemLeft" align="right" valign="top"><a id="a7fac5b8990b819f749527de4858424c4"></a>
<a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a7fac5b8990b819f749527de4858424c4">cacheImpl</a> (<a class="el" href="../../d3/db2/classorg_1_1apache_1_1lucene_1_1search_1_1_bulk_scorer.html">BulkScorer</a> scorer, int maxDoc)  throws IOException </td></tr>
<tr class="memdesc:a7fac5b8990b819f749527de4858424c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default cache implementation: uses <a class="el" href="../../">RoaringDocIdSet</a> for sets that have a density &lt; 1% and a <a class="el" href="../../">BitDocIdSet</a> over a <a class="el" href="../../">FixedBitSet</a> otherwise. <br /></td></tr>
<tr class="separator:a7fac5b8990b819f749527de4858424c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html">QueryCache</a> that evicts queries using a LRU (least-recently-used) eviction policy in order to remain under a given maximum size and number of bytes used. </p>
<p>This class is thread-safe.</p>
<p>Note that query eviction runs in linear time with the total number of segments that have cache entries so this cache works best with <a class="el" href="../../dc/d59/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_caching_policy.html">caching policies</a> that only cache on "large" segments, and it is advised to not share this cache across too many indices.</p>
<p>A default query cache and policy instance is used in <a class="el" href="../../d2/d3a/classorg_1_1apache_1_1lucene_1_1search_1_1_index_searcher.html" title="Implements search over a single IndexReader. ">IndexSearcher</a>. If you want to replace those defaults it is typically done like this: </p><pre class="prettyprint">
  final int maxNumberOfCachedQueries = 256;
  final long maxRamBytesUsed = 50 * 1024L * 1024L; // 50MB
  // these cache and policy instances can be shared across several queries and readers
  // it is fine to eg. store them into static variables
  final <a class="el" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html" title="A cache for queries. ">QueryCache</a> queryCache = new LRUQueryCache(maxNumberOfCachedQueries, maxRamBytesUsed);
  final <a class="el" href="../../dc/d59/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_caching_policy.html" title="A policy defining which filters should be cached. ">QueryCachingPolicy</a> defaultCachingPolicy = new UsageTrackingQueryCachingPolicy();
  indexSearcher.setQueryCache(queryCache);
  indexSearcher.setQueryCachingPolicy(defaultCachingPolicy);
</pre><p>This cache exposes some global statistics (<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ab905f9a1eefb063fa1844bb342269b47">hit count</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a29ecb4cb38b2302bc86d8430ac61b89c">miss count</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a751a12f1df8c8a5eae6b544a1e0ca759">number of cache entries</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a11b6779667c0a048ef06d70631303583">total number of DocIdSets that have ever been cached</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a438d535320c9cf6190723825d2f8e0b2">number of evicted entries</a>). In case you would like to have more fine-grained statistics, such as per-index or per-query-class statistics, it is possible to override various callbacks: <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#af5eaeb375f6ab8eaf663cc691f7b3e0b">onHit</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a8222ec09172dbc0a222c10cf27e3cfb3">onMiss</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a1d62dcb9fc5bd40632fc949fda53fd41">onQueryCache</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a32635e93b4a0e4888687d2e1b3e93c0b">onQueryEviction</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a6b00db53937297414eca49acf29a6a8e">onDocIdSetCache</a>, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ac10b01fd451ba8890f362930d2149699">onDocIdSetEviction</a> and <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a236a950d3a28a3a43d1a46e6fb7d9330">onClear</a>. It is better to not perform heavy computations in these methods though since they are called synchronously and under a lock.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/d59/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_caching_policy.html" title="A policy defining which filters should be cached. ">QueryCachingPolicy</a> .experimental </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a97fa69a667a2cac3e88ac9d073faa4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97fa69a667a2cac3e88ac9d073faa4f1">&#9670;&nbsp;</a></span>LRUQueryCache() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.apache.lucene.search.LRUQueryCache.LRUQueryCache </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>maxRamBytesUsed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Predicate&lt; <a class="el" href="../../d6/d79/classorg_1_1apache_1_1lucene_1_1index_1_1_leaf_reader_context.html">LeafReaderContext</a> &gt;&#160;</td>
          <td class="paramname"><em>leavesToCache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expert: Create a new instance that will cache at most <code>maxSize</code> queries with at most <code>maxRamBytesUsed</code> bytes of memory, only on leaves that satisfy. </p>
<div class="fragment"><div class="line">leavesToCache </div></div><!-- fragment --><p> . </p>

</div>
</div>
<a id="a123c3425602dc85e31f3935398356ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123c3425602dc85e31f3935398356ab6">&#9670;&nbsp;</a></span>LRUQueryCache() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.apache.lucene.search.LRUQueryCache.LRUQueryCache </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>maxRamBytesUsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new instance that will cache at most <code>maxSize</code> queries with at most <code>maxRamBytesUsed</code> bytes of memory. </p>
<p>Queries will only be cached on leaves that have more than 10k documents and have more than 3% of the total number of documents in the index. This should guarantee that all leaves from the upper <a class="el" href="../../">tier</a> will be cached while ensuring that at most <code>33</code> leaves can make it to the cache (very likely less than 10 in practice), which is useful for this implementation since some operations perform in linear time with the number of cached leaves. Only clauses whose cost is at most 100x the cost of the top-level query will be cached in order to not hurt latency too much because of caching. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adb722e26a2358385481ace382d882b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb722e26a2358385481ace382d882b1d">&#9670;&nbsp;</a></span>doCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/df5/classorg_1_1apache_1_1lucene_1_1search_1_1_weight.html">Weight</a> org.apache.lucene.search.LRUQueryCache.doCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df5/classorg_1_1apache_1_1lucene_1_1search_1_1_weight.html">Weight</a>&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d59/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_caching_policy.html">QueryCachingPolicy</a>&#160;</td>
          <td class="paramname"><em>policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a wrapper around the provided <code>weight</code> that will cache matching docs per-segment accordingly to the given <code>policy</code>. </p>
<p>NOTE: The returned weight will only be equivalent if scores are not needed. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d39/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_collector.html#a9716d3637ee92f7d7b4773407a3fef55" title="Indicates what features are required from the scorer. ">Collector::scoreMode()</a> </dd></dl>

<p>Implements <a class="el" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html#af22c063a30d49d041f936c98087a7c96">org.apache.lucene.search.QueryCache</a>.</p>

</div>
</div>
<a id="a11b6779667c0a048ef06d70631303583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b6779667c0a048ef06d70631303583">&#9670;&nbsp;</a></span>getCacheCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final long org.apache.lucene.search.LRUQueryCache.getCacheCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of cache entries that have been generated and put in the cache. </p>
<p>It is highly desirable to have a <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ab905f9a1eefb063fa1844bb342269b47">hit count</a> that is much higher than the <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a11b6779667c0a048ef06d70631303583">cache count</a> as the opposite would indicate that the query cache makes efforts in order to cache queries but then they do not get reused. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a751a12f1df8c8a5eae6b544a1e0ca759" title="Return the total number of DocIdSets which are currently stored in the cache. ">getCacheSize()</a> </dd>
<dd>
<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a438d535320c9cf6190723825d2f8e0b2" title="Return the number of cache entries that have been removed from the cache either in order to stay unde...">getEvictionCount()</a> </dd></dl>

</div>
</div>
<a id="a751a12f1df8c8a5eae6b544a1e0ca759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751a12f1df8c8a5eae6b544a1e0ca759">&#9670;&nbsp;</a></span>getCacheSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final long org.apache.lucene.search.LRUQueryCache.getCacheSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a>s which are currently stored in the cache. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a11b6779667c0a048ef06d70631303583" title="Return the total number of cache entries that have been generated and put in the cache. ">getCacheCount()</a> </dd>
<dd>
<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a438d535320c9cf6190723825d2f8e0b2" title="Return the number of cache entries that have been removed from the cache either in order to stay unde...">getEvictionCount()</a> </dd></dl>

</div>
</div>
<a id="af89ec3acc37280826701db77718f596d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89ec3acc37280826701db77718f596d">&#9670;&nbsp;</a></span>getChildResources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Collection&lt;<a class="el" href="../../db/de6/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_accountable.html">Accountable</a>&gt; org.apache.lucene.search.LRUQueryCache.getChildResources </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns nested resources of this class. </p>
<p>The result should be a point-in-time snapshot (to avoid race conditions). </p><dl class="section see"><dt>See also</dt><dd>Accountables </dd></dl>

<p>Implements <a class="el" href="../../db/de6/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_accountable.html#aaee876773cafc6f7ebe703baa5abc3cc">org.apache.lucene.util.Accountable</a>.</p>

</div>
</div>
<a id="a438d535320c9cf6190723825d2f8e0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438d535320c9cf6190723825d2f8e0b2">&#9670;&nbsp;</a></span>getEvictionCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final long org.apache.lucene.search.LRUQueryCache.getEvictionCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of cache entries that have been removed from the cache either in order to stay under the maximum configured size/ram usage, or because a segment has been closed. </p>
<p>High numbers of evictions might mean that queries are not reused or that the <a class="el" href="../../dc/d59/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_caching_policy.html">caching policy</a> caches too aggressively on NRT segments which get merged early. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a11b6779667c0a048ef06d70631303583" title="Return the total number of cache entries that have been generated and put in the cache. ">getCacheCount()</a> </dd>
<dd>
<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a751a12f1df8c8a5eae6b544a1e0ca759" title="Return the total number of DocIdSets which are currently stored in the cache. ">getCacheSize()</a> </dd></dl>

</div>
</div>
<a id="ab905f9a1eefb063fa1844bb342269b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab905f9a1eefb063fa1844bb342269b47">&#9670;&nbsp;</a></span>getHitCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final long org.apache.lucene.search.LRUQueryCache.getHitCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Over the <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7">total</a> number of times that a query has been looked up, return how many times a cached <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a> has been found and returned. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7" title="Return the total number of times that a Query has been looked up in this QueryCache. ">getTotalCount()</a> </dd>
<dd>
<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a29ecb4cb38b2302bc86d8430ac61b89c" title="Over the total number of times that a query has been looked up, return how many times this query was ...">getMissCount()</a> </dd></dl>

</div>
</div>
<a id="a29ecb4cb38b2302bc86d8430ac61b89c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ecb4cb38b2302bc86d8430ac61b89c">&#9670;&nbsp;</a></span>getMissCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final long org.apache.lucene.search.LRUQueryCache.getMissCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Over the <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7">total</a> number of times that a query has been looked up, return how many times this query was not contained in the cache. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7" title="Return the total number of times that a Query has been looked up in this QueryCache. ">getTotalCount()</a> </dd>
<dd>
<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ab905f9a1eefb063fa1844bb342269b47" title="Over the total number of times that a query has been looked up, return how many times a cached DocIdS...">getHitCount()</a> </dd></dl>

</div>
</div>
<a id="a4cf118f20a800a73a1bad20ee6feb5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf118f20a800a73a1bad20ee6feb5b7">&#9670;&nbsp;</a></span>getTotalCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final long org.apache.lucene.search.LRUQueryCache.getTotalCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of times that a <a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a> has been looked up in this <a class="el" href="../../d4/d06/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_query_cache.html">QueryCache</a>. </p>
<p>Note that this number is incremented once per segment so running a cached query only once will increment this counter by the number of segments that are wrapped by the searcher. Note that by definition, <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a4cf118f20a800a73a1bad20ee6feb5b7">getTotalCount()</a> is the sum of <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ab905f9a1eefb063fa1844bb342269b47">getHitCount()</a> and <a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a29ecb4cb38b2302bc86d8430ac61b89c">getMissCount()</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ab905f9a1eefb063fa1844bb342269b47" title="Over the total number of times that a query has been looked up, return how many times a cached DocIdS...">getHitCount()</a> </dd>
<dd>
<a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a29ecb4cb38b2302bc86d8430ac61b89c" title="Over the total number of times that a query has been looked up, return how many times this query was ...">getMissCount()</a> </dd></dl>

</div>
</div>
<a id="a236a950d3a28a3a43d1a46e6fb7d9330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236a950d3a28a3a43d1a46e6fb7d9330">&#9670;&nbsp;</a></span>onClear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onClear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when the cache is completely cleared. </p>
<p>.experimental </p>

</div>
</div>
<a id="a6b00db53937297414eca49acf29a6a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b00db53937297414eca49acf29a6a8e">&#9670;&nbsp;</a></span>onDocIdSetCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onDocIdSetCache </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>readerCoreKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ramBytesUsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when a <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a> is added to this cache. </p>
<p>Implementing this method is typically useful in order to compute more fine-grained statistics about the query cache. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#ac10b01fd451ba8890f362930d2149699" title="Expert: callback when one or more DocIdSets are removed from this cache. ">onDocIdSetEviction</a> .experimental </dd></dl>

</div>
</div>
<a id="ac10b01fd451ba8890f362930d2149699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac10b01fd451ba8890f362930d2149699">&#9670;&nbsp;</a></span>onDocIdSetEviction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onDocIdSetEviction </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>readerCoreKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numEntries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sumRamBytesUsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when one or more <a class="el" href="../../d8/da6/classorg_1_1apache_1_1lucene_1_1search_1_1_doc_id_set.html">DocIdSet</a>s are removed from this cache. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a6b00db53937297414eca49acf29a6a8e" title="Expert: callback when a DocIdSet is added to this cache. ">onDocIdSetCache</a> .experimental </dd></dl>

</div>
</div>
<a id="af5eaeb375f6ab8eaf663cc691f7b3e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5eaeb375f6ab8eaf663cc691f7b3e0b">&#9670;&nbsp;</a></span>onHit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onHit </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>readerCoreKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a>&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when there is a cache hit on a given query. </p>
<p>Implementing this method is typically useful in order to compute more fine-grained statistics about the query cache. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a8222ec09172dbc0a222c10cf27e3cfb3" title="Expert: callback when there is a cache miss on a given query. ">onMiss</a> .experimental </dd></dl>

</div>
</div>
<a id="a8222ec09172dbc0a222c10cf27e3cfb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8222ec09172dbc0a222c10cf27e3cfb3">&#9670;&nbsp;</a></span>onMiss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onMiss </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>readerCoreKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a>&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when there is a cache miss on a given query. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#af5eaeb375f6ab8eaf663cc691f7b3e0b" title="Expert: callback when there is a cache hit on a given query. ">onHit</a> .experimental </dd></dl>

</div>
</div>
<a id="a1d62dcb9fc5bd40632fc949fda53fd41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d62dcb9fc5bd40632fc949fda53fd41">&#9670;&nbsp;</a></span>onQueryCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onQueryCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a>&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ramBytesUsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when a query is added to this cache. </p>
<p>Implementing this method is typically useful in order to compute more fine-grained statistics about the query cache. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a32635e93b4a0e4888687d2e1b3e93c0b" title="Expert: callback when a query is evicted from this cache. ">onQueryEviction</a> .experimental </dd></dl>

</div>
</div>
<a id="a32635e93b4a0e4888687d2e1b3e93c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32635e93b4a0e4888687d2e1b3e93c0b">&#9670;&nbsp;</a></span>onQueryEviction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.apache.lucene.search.LRUQueryCache.onQueryEviction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d78/classorg_1_1apache_1_1lucene_1_1search_1_1_query.html">Query</a>&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ramBytesUsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expert: callback when a query is evicted from this cache. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html#a1d62dcb9fc5bd40632fc949fda53fd41" title="Expert: callback when a query is added to this cache. ">onQueryCache</a> .experimental </dd></dl>

</div>
</div>
<a id="a20168196c43708d7981180e8a0ad143c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20168196c43708d7981180e8a0ad143c">&#9670;&nbsp;</a></span>ramBytesUsed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long org.apache.lucene.search.LRUQueryCache.ramBytesUsed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the memory usage of this object in bytes. </p>
<p>Negative values are illegal. </p>

<p>Implements <a class="el" href="../../db/de6/interfaceorg_1_1apache_1_1lucene_1_1util_1_1_accountable.html#a084b7108fbb5b4f81b671170544da484">org.apache.lucene.util.Accountable</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/vkroz/src/oss/lucene-solr/lucene/core/src/java/org/apache/lucene/search/LRUQueryCache.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>apache</b></li><li class="navelem"><a class="el" href="../../d8/d76/namespaceorg_1_1apache_1_1lucene.html">lucene</a></li><li class="navelem"><a class="el" href="../../dc/d25/namespaceorg_1_1apache_1_1lucene_1_1search.html">search</a></li><li class="navelem"><a class="el" href="../../d1/d04/classorg_1_1apache_1_1lucene_1_1search_1_1_l_r_u_query_cache.html">LRUQueryCache</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
