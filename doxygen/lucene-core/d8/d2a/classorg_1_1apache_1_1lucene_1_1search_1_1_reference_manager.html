<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lucene-core-API: org.apache.lucene.search.ReferenceManager&lt; G &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lucene-core-API
   &#160;<span id="projectnumber">8.0.0-SNAPSHOT</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d6/dcd/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.apache.lucene.search.ReferenceManager&lt; G &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility class to safely share instances of a certain type across multiple threads, while periodically refreshing them.  
 <a href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for org.apache.lucene.search.ReferenceManager&lt; G &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d7d/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager__inherit__graph.png" border="0" usemap="#org_8apache_8lucene_8search_8_reference_manager_3_01_g_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8apache_8lucene_8search_8_reference_manager_3_01_g_01_4_inherit__map" id="org_8apache_8lucene_8search_8_reference_manager_3_01_g_01_4_inherit__map">
<area shape="rect" id="node3" href="../../d4/d05/classorg_1_1apache_1_1lucene_1_1index_1_1_reader_manager.html" title="Utility class to safely share DirectoryReader instances across multiple threads, while periodically r..." alt="" coords="12,169,177,225"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.apache.lucene.search.ReferenceManager&lt; G &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d0a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager__coll__graph.png" border="0" usemap="#org_8apache_8lucene_8search_8_reference_manager_3_01_g_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="org_8apache_8lucene_8search_8_reference_manager_3_01_g_01_4_coll__map" id="org_8apache_8lucene_8search_8_reference_manager_3_01_g_01_4_coll__map">
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db3/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager_1_1_refresh_listener.html">RefreshListener</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use to receive notification when a refresh has finished.  <a href="../../de/db3/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager_1_1_refresh_listener.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a27998ffa86872a2a1a7115326cb4376a"><td class="memItemLeft" align="right" valign="top">final G&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire</a> ()  throws IOException </td></tr>
<tr class="memdesc:a27998ffa86872a2a1a7115326cb4376a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the current reference.  <a href="#a27998ffa86872a2a1a7115326cb4376a">More...</a><br /></td></tr>
<tr class="separator:a27998ffa86872a2a1a7115326cb4376a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdfe9d2c83f4696239651358b9817121"><td class="memItemLeft" align="right" valign="top">final synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">close</a> ()  throws IOException </td></tr>
<tr class="separator:acdfe9d2c83f4696239651358b9817121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f668a6d165d5122d89403559804719"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a81f668a6d165d5122d89403559804719">maybeRefresh</a> ()  throws IOException </td></tr>
<tr class="memdesc:a81f668a6d165d5122d89403559804719"><td class="mdescLeft">&#160;</td><td class="mdescRight">You must call this (or <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a24faae580e0917a79c48ae2bc301e603">maybeRefreshBlocking()</a>), periodically, if you want that <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a> will return refreshed instances.  <a href="#a81f668a6d165d5122d89403559804719">More...</a><br /></td></tr>
<tr class="separator:a81f668a6d165d5122d89403559804719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24faae580e0917a79c48ae2bc301e603"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a24faae580e0917a79c48ae2bc301e603">maybeRefreshBlocking</a> ()  throws IOException </td></tr>
<tr class="memdesc:a24faae580e0917a79c48ae2bc301e603"><td class="mdescLeft">&#160;</td><td class="mdescRight">You must call this (or <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a81f668a6d165d5122d89403559804719">maybeRefresh()</a>), periodically, if you want that <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a> will return refreshed instances.  <a href="#a24faae580e0917a79c48ae2bc301e603">More...</a><br /></td></tr>
<tr class="separator:a24faae580e0917a79c48ae2bc301e603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f7e8afc85a630e182387c77e93ba45"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a09f7e8afc85a630e182387c77e93ba45">release</a> (G reference)  throws IOException </td></tr>
<tr class="memdesc:a09f7e8afc85a630e182387c77e93ba45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the reference previously obtained via <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a>.  <a href="#a09f7e8afc85a630e182387c77e93ba45">More...</a><br /></td></tr>
<tr class="separator:a09f7e8afc85a630e182387c77e93ba45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529eeef567ea7223ce800858b62be0cb"><td class="memItemLeft" align="right" valign="top"><a id="a529eeef567ea7223ce800858b62be0cb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a529eeef567ea7223ce800858b62be0cb">addListener</a> (<a class="el" href="../../de/db3/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager_1_1_refresh_listener.html">RefreshListener</a> listener)</td></tr>
<tr class="memdesc:a529eeef567ea7223ce800858b62be0cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a listener, to be notified when a reference is refreshed/swapped. <br /></td></tr>
<tr class="separator:a529eeef567ea7223ce800858b62be0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9411f223ccaf43ae3f3fe35fe323f56"><td class="memItemLeft" align="right" valign="top"><a id="aa9411f223ccaf43ae3f3fe35fe323f56"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#aa9411f223ccaf43ae3f3fe35fe323f56">removeListener</a> (<a class="el" href="../../de/db3/interfaceorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager_1_1_refresh_listener.html">RefreshListener</a> listener)</td></tr>
<tr class="memdesc:aa9411f223ccaf43ae3f3fe35fe323f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a listener added with <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a529eeef567ea7223ce800858b62be0cb">addListener(RefreshListener)</a>. <br /></td></tr>
<tr class="separator:aa9411f223ccaf43ae3f3fe35fe323f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac5b20310c6da659a7da9322dcb04f05b"><td class="memItemLeft" align="right" valign="top">abstract void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#ac5b20310c6da659a7da9322dcb04f05b">decRef</a> (G reference)  throws IOException</td></tr>
<tr class="memdesc:ac5b20310c6da659a7da9322dcb04f05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement reference counting on the given reference.  <a href="#ac5b20310c6da659a7da9322dcb04f05b">More...</a><br /></td></tr>
<tr class="separator:ac5b20310c6da659a7da9322dcb04f05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c46eaea714aad2e920401d38d29433a"><td class="memItemLeft" align="right" valign="top">abstract G&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a9c46eaea714aad2e920401d38d29433a">refreshIfNeeded</a> (G referenceToRefresh)  throws IOException</td></tr>
<tr class="memdesc:a9c46eaea714aad2e920401d38d29433a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refresh the given reference if needed.  <a href="#a9c46eaea714aad2e920401d38d29433a">More...</a><br /></td></tr>
<tr class="separator:a9c46eaea714aad2e920401d38d29433a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266662cf508daaca5e26eea3dbe2453e"><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a266662cf508daaca5e26eea3dbe2453e">tryIncRef</a> (G reference)  throws IOException</td></tr>
<tr class="memdesc:a266662cf508daaca5e26eea3dbe2453e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to increment reference counting on the given reference.  <a href="#a266662cf508daaca5e26eea3dbe2453e">More...</a><br /></td></tr>
<tr class="separator:a266662cf508daaca5e26eea3dbe2453e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebe077153a0ae2cc1608b05c850a734"><td class="memItemLeft" align="right" valign="top"><a id="a5ebe077153a0ae2cc1608b05c850a734"></a>
abstract int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a5ebe077153a0ae2cc1608b05c850a734">getRefCount</a> (G reference)</td></tr>
<tr class="memdesc:a5ebe077153a0ae2cc1608b05c850a734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current reference count of the given reference. <br /></td></tr>
<tr class="separator:a5ebe077153a0ae2cc1608b05c850a734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25af0f7183a7fb90ac43c980838e4078"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a25af0f7183a7fb90ac43c980838e4078">afterClose</a> ()  throws IOException </td></tr>
<tr class="memdesc:a25af0f7183a7fb90ac43c980838e4078"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">close()</a>, so subclass can free any resources.  <a href="#a25af0f7183a7fb90ac43c980838e4078">More...</a><br /></td></tr>
<tr class="separator:a25af0f7183a7fb90ac43c980838e4078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e0c5e2c045ea6c205475ecd18be63c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a41e0c5e2c045ea6c205475ecd18be63c">afterMaybeRefresh</a> ()  throws IOException </td></tr>
<tr class="memdesc:a41e0c5e2c045ea6c205475ecd18be63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after a refresh was attempted, regardless of whether a new reference was in fact created.  <a href="#a41e0c5e2c045ea6c205475ecd18be63c">More...</a><br /></td></tr>
<tr class="separator:a41e0c5e2c045ea6c205475ecd18be63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility class to safely share instances of a certain type across multiple threads, while periodically refreshing them. </p>
<p>This class ensures each reference is closed only once all threads have finished using it. It is recommended to consult the documentation of <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">ReferenceManager</a> implementations for their <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a81f668a6d165d5122d89403559804719">maybeRefresh()</a> semantics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;G&gt;</td><td>the concrete type that will be <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquired</a> and <a class="el" href="../../">released</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>.experimental </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a27998ffa86872a2a1a7115326cb4376a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27998ffa86872a2a1a7115326cb4376a">&#9670;&nbsp;</a></span>acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final G <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.acquire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the current reference. </p>
<p>You must match every call to acquire with one call to <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a09f7e8afc85a630e182387c77e93ba45">release</a>; it's best to do so in a finally clause, and set the reference to</p><div class="fragment"><div class="line">null </div></div><!-- fragment --><p> to prevent accidental usage after it has been released. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">AlreadyClosedException</td><td>if the reference manager has been <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">closed</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25af0f7183a7fb90ac43c980838e4078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25af0f7183a7fb90ac43c980838e4078">&#9670;&nbsp;</a></span>afterClose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.afterClose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">close()</a>, so subclass can free any resources. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if the after close operation in a sub-class throws an <a class="el" href="../../">IOException</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a41e0c5e2c045ea6c205475ecd18be63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e0c5e2c045ea6c205475ecd18be63c">&#9670;&nbsp;</a></span>afterMaybeRefresh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.afterMaybeRefresh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after a refresh was attempted, regardless of whether a new reference was in fact created. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if a low level I/O exception occurs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdfe9d2c83f4696239651358b9817121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdfe9d2c83f4696239651358b9817121">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final synchronized void <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes this <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html" title="Utility class to safely share instances of a certain type across multiple threads, while periodically refreshing them. ">ReferenceManager</a> to prevent future <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquiring</a>. A reference manager should be closed if the reference to the managed resource should be disposed or the application using the <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">ReferenceManager</a> is shutting down. The managed resource might not be released immediately, if the <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">ReferenceManager</a> user is holding on to a previously <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquired</a> reference. The resource will be released once when the last reference is <a class="el" href="../../">released</a>. Those references can still be used as if the manager was still active. </p>
<p>Applications should not <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire</a> new references from this manager once this method has been called. <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">Acquiring</a> a resource on a closed <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">ReferenceManager</a> will throw an <a class="el" href="../../">AlreadyClosedException</a>. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if the underlying reader of the current reference could not be closed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5b20310c6da659a7da9322dcb04f05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b20310c6da659a7da9322dcb04f05b">&#9670;&nbsp;</a></span>decRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract void <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.decRef </td>
          <td>(</td>
          <td class="paramtype">G&#160;</td>
          <td class="paramname"><em>reference</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrement reference counting on the given reference. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if reference decrement on the given resource failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81f668a6d165d5122d89403559804719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f668a6d165d5122d89403559804719">&#9670;&nbsp;</a></span>maybeRefresh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final boolean <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.maybeRefresh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You must call this (or <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a24faae580e0917a79c48ae2bc301e603">maybeRefreshBlocking()</a>), periodically, if you want that <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a> will return refreshed instances. </p>
<p><b>Threads</b>: it's fine for more than one thread to call this at once. Only the first thread will attempt the refresh; subsequent threads will see that another thread is already handling refresh and will return immediately. Note that this means if another thread is already refreshing then subsequent threads will return right away without waiting for the refresh to complete.</p>
<p>If this method returns true it means the calling thread either refreshed or that there were no changes to refresh. If it returns false it means another thread is currently refreshing. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if refreshing the resource causes an <a class="el" href="../../">IOException</a> </td></tr>
    <tr><td class="paramname">AlreadyClosedException</td><td>if the reference manager has been <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">closed</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24faae580e0917a79c48ae2bc301e603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24faae580e0917a79c48ae2bc301e603">&#9670;&nbsp;</a></span>maybeRefreshBlocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.maybeRefreshBlocking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You must call this (or <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a81f668a6d165d5122d89403559804719">maybeRefresh()</a>), periodically, if you want that <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a> will return refreshed instances. </p>
<p><b>Threads</b>: unlike <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a81f668a6d165d5122d89403559804719">maybeRefresh()</a>, if another thread is currently refreshing, this method blocks until that thread completes. It is useful if you want to guarantee that the next call to <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a> will return a refreshed instance. Otherwise, consider using the non-blocking <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a81f668a6d165d5122d89403559804719">maybeRefresh()</a>. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if refreshing the resource causes an <a class="el" href="../../">IOException</a> </td></tr>
    <tr><td class="paramname">AlreadyClosedException</td><td>if the reference manager has been <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">closed</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c46eaea714aad2e920401d38d29433a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c46eaea714aad2e920401d38d29433a">&#9670;&nbsp;</a></span>refreshIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract G <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.refreshIfNeeded </td>
          <td>(</td>
          <td class="paramtype">G&#160;</td>
          <td class="paramname"><em>referenceToRefresh</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Refresh the given reference if needed. </p>
<p>Returns</p><div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if no refresh was needed, otherwise a new refreshed reference. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">AlreadyClosedException</td><td>if the reference manager has been <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">closed</a>. </td></tr>
    <tr><td class="paramname">IOException</td><td>if the refresh operation failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09f7e8afc85a630e182387c77e93ba45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f7e8afc85a630e182387c77e93ba45">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.release </td>
          <td>(</td>
          <td class="paramtype">G&#160;</td>
          <td class="paramname"><em>reference</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the reference previously obtained via <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#a27998ffa86872a2a1a7115326cb4376a">acquire()</a>. </p>
<p><b>NOTE:</b> it's safe to call this after <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">close()</a>. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if the release operation on the given resource throws an <a class="el" href="../../">IOException</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a266662cf508daaca5e26eea3dbe2453e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a266662cf508daaca5e26eea3dbe2453e">&#9670;&nbsp;</a></span>tryIncRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">org.apache.lucene.search.ReferenceManager</a>&lt; G &gt;.tryIncRef </td>
          <td>(</td>
          <td class="paramtype">G&#160;</td>
          <td class="paramname"><em>reference</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to increment reference counting on the given reference. </p>
<p>Return true if the operation was successful. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">AlreadyClosedException</td><td>if the reference manager has been <a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html#acdfe9d2c83f4696239651358b9817121">closed</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/vkroz/src/oss/lucene-solr/lucene/core/src/java/org/apache/lucene/search/ReferenceManager.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>apache</b></li><li class="navelem"><a class="el" href="../../d8/d76/namespaceorg_1_1apache_1_1lucene.html">lucene</a></li><li class="navelem"><a class="el" href="../../dc/d25/namespaceorg_1_1apache_1_1lucene_1_1search.html">search</a></li><li class="navelem"><a class="el" href="../../d8/d2a/classorg_1_1apache_1_1lucene_1_1search_1_1_reference_manager.html">ReferenceManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
