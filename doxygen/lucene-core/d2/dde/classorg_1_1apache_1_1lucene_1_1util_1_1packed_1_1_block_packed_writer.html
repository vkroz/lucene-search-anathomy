<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lucene-core-API: org.apache.lucene.util.packed.BlockPackedWriter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lucene-core-API
   &#160;<span id="projectnumber">8.0.0-SNAPSHOT</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/dde/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d7/de9/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.apache.lucene.util.packed.BlockPackedWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A writer for large sequences of longs.  
 <a href="../../d2/dde/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for org.apache.lucene.util.packed.BlockPackedWriter:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d9e/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer__inherit__graph.png" border="0" usemap="#org_8apache_8lucene_8util_8packed_8_block_packed_writer_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.apache.lucene.util.packed.BlockPackedWriter:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc3/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer__coll__graph.png" border="0" usemap="#org_8apache_8lucene_8util_8packed_8_block_packed_writer_coll__map" alt="Collaboration graph"/></div>
<map name="org_8apache_8lucene_8util_8packed_8_block_packed_writer_coll__map" id="org_8apache_8lucene_8util_8packed_8_block_packed_writer_coll__map">
<area shape="rect" id="node3" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html" title="Abstract base class for performing write operations of Lucene&#39;s low&#45;level data types. " alt="" coords="22,5,191,47"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a64d3e418700f36675d61db1125785ad1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dde/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer.html#a64d3e418700f36675d61db1125785ad1">BlockPackedWriter</a> (<a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html">DataOutput</a> out, int blockSize)</td></tr>
<tr class="memdesc:a64d3e418700f36675d61db1125785ad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sole constructor.  <a href="#a64d3e418700f36675d61db1125785ad1">More...</a><br /></td></tr>
<tr class="separator:a64d3e418700f36675d61db1125785ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A writer for large sequences of longs. </p>
<p>The sequence is divided into fixed-size blocks and for each block, the difference between each value and the minimum value of the block is encoded using as few bits as possible. Memory usage of this class is proportional to the block size. Each block has an overhead between 1 and 10 bytes to store the minimum value and the number of bits per value of the block. </p>
<p>Format: </p><ul>
<li>
&lt;BLock&gt;<sup>BlockCount</sup> </li>
<li>
BlockCount: &lceil; ValueCount / BlockSize &rceil; </li>
<li>
Block: &lt;Header, (Ints)&gt; </li>
<li>
Header: &lt;Token, (MinValue)&gt; </li>
<li>
Token: a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#abf0eb9a36793af6347e82c24ee08c4b0">byte</a>, first 7 bits are the number of bits per value (<code>bitsPerValue</code>). If the 8th bit is 1, then MinValue (see next) is <code>0</code>, otherwise MinValue and needs to be decoded </li>
<li>
MinValue: a <a href="https://developers.google.com/protocol-buffers/docs/encoding#types">zigzag-encoded</a> <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a53598c60eda6c37eccfa2e2edd448a4e">variable-length long</a> whose value should be added to every int from the block to restore the original values </li>
<li>
Ints: If the number of bits per value is <code>0</code>, then there is nothing to decode and all ints are equal to MinValue. Otherwise: BlockSize <a class="el" href="../../da/de2/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_packed_ints.html">packed ints</a> encoded on exactly <code>bitsPerValue</code> bits per value. They are the subtraction of the original values and MinValue </li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d76/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_reader_iterator.html" title="Reader for sequences of longs written with BlockPackedWriter. ">BlockPackedReaderIterator</a> </dd>
<dd>
<a class="el" href="../../d3/d4b/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_reader.html" title="Provides random access to a stream written with BlockPackedWriter. ">BlockPackedReader</a> .internal </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a64d3e418700f36675d61db1125785ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d3e418700f36675d61db1125785ad1">&#9670;&nbsp;</a></span>BlockPackedWriter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.apache.lucene.util.packed.BlockPackedWriter.BlockPackedWriter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html">DataOutput</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sole constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockSize</td><td>the number of values of a single block, must be a power of 2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/vkroz/src/oss/lucene-solr/lucene/core/src/java/org/apache/lucene/util/packed/BlockPackedWriter.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>apache</b></li><li class="navelem"><a class="el" href="../../d8/d76/namespaceorg_1_1apache_1_1lucene.html">lucene</a></li><li class="navelem"><a class="el" href="../../df/d82/namespaceorg_1_1apache_1_1lucene_1_1util.html">util</a></li><li class="navelem"><a class="el" href="../../d6/db3/namespaceorg_1_1apache_1_1lucene_1_1util_1_1packed.html">packed</a></li><li class="navelem"><a class="el" href="../../d2/dde/classorg_1_1apache_1_1lucene_1_1util_1_1packed_1_1_block_packed_writer.html">BlockPackedWriter</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
