<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lucene-core-API: org.apache.lucene.codecs.lucene50.Lucene50StoredFieldsFormat Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lucene-core-API
   &#160;<span id="projectnumber">8.0.0-SNAPSHOT</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('da/db4/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="../../da/df7/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.apache.lucene.codecs.lucene50.Lucene50StoredFieldsFormat Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Lucene 5.0 stored fields format.  
 <a href="../../da/db4/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for org.apache.lucene.codecs.lucene50.Lucene50StoredFieldsFormat:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d64/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format__inherit__graph.png" border="0" usemap="#org_8apache_8lucene_8codecs_8lucene50_8_lucene50_stored_fields_format_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8apache_8lucene_8codecs_8lucene50_8_lucene50_stored_fields_format_inherit__map" id="org_8apache_8lucene_8codecs_8lucene50_8_lucene50_stored_fields_format_inherit__map">
<area shape="rect" id="node2" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html" title="Controls the format of stored fields. " alt="" coords="34,5,215,47"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.apache.lucene.codecs.lucene50.Lucene50StoredFieldsFormat:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d61/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format__coll__graph.png" border="0" usemap="#org_8apache_8lucene_8codecs_8lucene50_8_lucene50_stored_fields_format_coll__map" alt="Collaboration graph"/></div>
<map name="org_8apache_8lucene_8codecs_8lucene50_8_lucene50_stored_fields_format_coll__map" id="org_8apache_8lucene_8codecs_8lucene50_8_lucene50_stored_fields_format_coll__map">
<area shape="rect" id="node2" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html" title="Controls the format of stored fields. " alt="" coords="34,5,215,47"/>
<area shape="rect" id="node3" title="Configuration option for stored fields. " alt="" coords="5,71,244,112"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>Mode</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration option for stored fields. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34469b33bd6b42d5b6cd14b67aec0582"><td class="memItemLeft" align="right" valign="top"><a id="a34469b33bd6b42d5b6cd14b67aec0582"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/db4/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format.html#a34469b33bd6b42d5b6cd14b67aec0582">Lucene50StoredFieldsFormat</a> ()</td></tr>
<tr class="memdesc:a34469b33bd6b42d5b6cd14b67aec0582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stored fields format with default options. <br /></td></tr>
<tr class="separator:a34469b33bd6b42d5b6cd14b67aec0582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9b617b58f527445353879da0883f0f"><td class="memItemLeft" align="right" valign="top"><a id="acc9b617b58f527445353879da0883f0f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/db4/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format.html#acc9b617b58f527445353879da0883f0f">Lucene50StoredFieldsFormat</a> (Mode mode)</td></tr>
<tr class="memdesc:acc9b617b58f527445353879da0883f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stored fields format with specified mode. <br /></td></tr>
<tr class="separator:acc9b617b58f527445353879da0883f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html">org.apache.lucene.codecs.StoredFieldsFormat</a></td></tr>
<tr class="memitem:aae5a0e7c1970652d6ff9788fb0a58a34 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d1/df9/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_reader.html">StoredFieldsReader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html#aae5a0e7c1970652d6ff9788fb0a58a34">fieldsReader</a> (<a class="el" href="../../d3/dcb/classorg_1_1apache_1_1lucene_1_1store_1_1_directory.html">Directory</a> directory, <a class="el" href="../../d2/d9b/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_info.html">SegmentInfo</a> si, <a class="el" href="../../d4/db4/classorg_1_1apache_1_1lucene_1_1index_1_1_field_infos.html">FieldInfos</a> fn, <a class="el" href="../../d0/db3/classorg_1_1apache_1_1lucene_1_1store_1_1_i_o_context.html">IOContext</a> context)  throws IOException</td></tr>
<tr class="memdesc:aae5a0e7c1970652d6ff9788fb0a58a34 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="../../d1/df9/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_reader.html">StoredFieldsReader</a> to load stored fields.  <a href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html#aae5a0e7c1970652d6ff9788fb0a58a34">More...</a><br /></td></tr>
<tr class="separator:aae5a0e7c1970652d6ff9788fb0a58a34 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad643396975a57a83556512e44c85ad7 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d9/d74/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_writer.html">StoredFieldsWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html#aad643396975a57a83556512e44c85ad7">fieldsWriter</a> (<a class="el" href="../../d3/dcb/classorg_1_1apache_1_1lucene_1_1store_1_1_directory.html">Directory</a> directory, <a class="el" href="../../d2/d9b/classorg_1_1apache_1_1lucene_1_1index_1_1_segment_info.html">SegmentInfo</a> si, <a class="el" href="../../d0/db3/classorg_1_1apache_1_1lucene_1_1store_1_1_i_o_context.html">IOContext</a> context)  throws IOException</td></tr>
<tr class="memdesc:aad643396975a57a83556512e44c85ad7 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="../../d9/d74/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_writer.html">StoredFieldsWriter</a> to write stored fields.  <a href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html#aad643396975a57a83556512e44c85ad7">More...</a><br /></td></tr>
<tr class="separator:aad643396975a57a83556512e44c85ad7 inherit pub_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1ee438b6d88b2285ec4b72955db4f7b4"><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/db4/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format.html#a1ee438b6d88b2285ec4b72955db4f7b4">MODE_KEY</a> = Lucene50StoredFieldsFormat.class.getSimpleName() + &quot;.mode&quot;</td></tr>
<tr class="memdesc:a1ee438b6d88b2285ec4b72955db4f7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute key for compression mode.  <a href="#a1ee438b6d88b2285ec4b72955db4f7b4">More...</a><br /></td></tr>
<tr class="separator:a1ee438b6d88b2285ec4b72955db4f7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html">org.apache.lucene.codecs.StoredFieldsFormat</a></td></tr>
<tr class="memitem:a5a3252a550a948ec1359ee0eabb25041 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html#a5a3252a550a948ec1359ee0eabb25041">StoredFieldsFormat</a> ()</td></tr>
<tr class="memdesc:a5a3252a550a948ec1359ee0eabb25041 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sole constructor.  <a href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html#a5a3252a550a948ec1359ee0eabb25041">More...</a><br /></td></tr>
<tr class="separator:a5a3252a550a948ec1359ee0eabb25041 inherit pro_methods_classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Lucene 5.0 stored fields format. </p>
<p><b>Principle</b> </p>
<p>This <a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html">StoredFieldsFormat</a> compresses blocks of documents in order to improve the compression ratio compared to document-level compression. It uses the <a href="http://code.google.com/p/lz4/">LZ4</a> compression algorithm by default in 16KB blocks, which is fast to compress and very fast to decompress data. Although the default compression method that is used (<a class="el" href="../../">BEST_SPEED</a>) focuses more on speed than on compression ratio, it should provide interesting compression ratios for redundant inputs (such as log files, HTML or plain text). For higher compression, you can choose (<a class="el" href="../../">BEST_COMPRESSION</a>), which uses the <a href="http://en.wikipedia.org/wiki/DEFLATE">DEFLATE</a> algorithm with 60KB blocks for a better ratio at the expense of slower performance. These two options can be configured like this: </p><pre class="prettyprint">
  // the default: for high performance
  indexWriterConfig.setCodec(new Lucene54Codec(Mode.BEST_SPEED));
  // instead for higher performance (but slower):
  // indexWriterConfig.setCodec(new Lucene54Codec(Mode.BEST_COMPRESSION));
</pre> <p><b>File formats</b> </p>
<p>Stored fields are represented by two files: </p><ol>
<li>
<p class="startli"><a class="anchor" id="field_data"></a> </p>
<p>A fields data file (extension <code>.fdt</code>). This file stores a compact representation of documents in compressed blocks of 16KB or more. When writing a segment, documents are appended to an in-memory <code>byte[]</code> buffer. When its size reaches 16KB or more, some metadata about the documents is flushed to disk, immediately followed by a compressed representation of the buffer using the <a href="http://code.google.com/p/lz4/">LZ4</a> <a href="http://fastcompression.blogspot.fr/2011/05/lz4-explained.html">compression format</a>.</p>
<p></p>
<p>Here is a more detailed description of the field data file format:</p>
<ul>
<li>
FieldData (.fdt) &ndash;&gt; &lt;Header&gt;, PackedIntsVersion, &lt;Chunk&gt;<sup>ChunkCount</sup>, ChunkCount, DirtyChunkCount, Footer </li>
<li>
Header &ndash;&gt; <a class="el" href="../../d3/d43/classorg_1_1apache_1_1lucene_1_1codecs_1_1_codec_util.html#ab2dd6479e3f70b5f0a424b6530383a90">IndexHeader</a> </li>
<li>
PackedIntsVersion &ndash;&gt; <a class="el" href="../../">PackedInts#VERSION_CURRENT</a> as a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a5447a91b8809745c68022e39fdff93a2">VInt</a> </li>
<li>
ChunkCount is not known in advance and is the number of chunks necessary to store all document of the segment </li>
<li>
Chunk &ndash;&gt; DocBase, ChunkDocs, DocFieldCounts, DocLengths, &lt;CompressedDocs&gt; </li>
<li>
DocBase &ndash;&gt; the ID of the first document of the chunk as a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a5447a91b8809745c68022e39fdff93a2">VInt</a> </li>
<li>
ChunkDocs &ndash;&gt; the number of documents in the chunk as a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a5447a91b8809745c68022e39fdff93a2">VInt</a> </li>
<li>
DocFieldCounts &ndash;&gt; the number of stored fields of every document in the chunk, encoded as followed:<ul>
<li>
if chunkDocs=1, the unique value is encoded as a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a5447a91b8809745c68022e39fdff93a2">VInt</a> </li>
<li>
else read a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a5447a91b8809745c68022e39fdff93a2">VInt</a> (let's call it <code>bitsRequired</code>)<ul>
<li>
if <code>bitsRequired</code> is <code>0</code> then all values are equal, and the common value is the following <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a5447a91b8809745c68022e39fdff93a2">VInt</a> </li>
<li>
else <code>bitsRequired</code> is the number of bits required to store any value, and values are stored in a <a class="el" href="../../">packed</a> array where every value is stored on exactly <code>bitsRequired</code> bits </li>
</ul>
</li>
</ul>
</li>
<li>
DocLengths &ndash;&gt; the lengths of all documents in the chunk, encoded with the same method as DocFieldCounts </li>
<li>
CompressedDocs &ndash;&gt; a compressed representation of &lt;Docs&gt; using the LZ4 compression format </li>
<li>
Docs &ndash;&gt; &lt;Doc&gt;<sup>ChunkDocs</sup> </li>
<li>
Doc &ndash;&gt; &lt;FieldNumAndType, Value&gt;<sup>DocFieldCount</sup> </li>
<li>
FieldNumAndType &ndash;&gt; a <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#a53598c60eda6c37eccfa2e2edd448a4e">VLong</a>, whose 3 last bits are Type and other bits are FieldNum </li>
<li>
Type &ndash;&gt;<ul>
<li>
0: Value is String </li>
<li>
1: Value is BinaryValue </li>
<li>
2: Value is Int </li>
<li>
3: Value is Float </li>
<li>
4: Value is Long </li>
<li>
5: Value is Double </li>
<li>
6, 7: unused </li>
</ul>
</li>
<li>
FieldNum &ndash;&gt; an ID of the field </li>
<li>
Value &ndash;&gt; <a class="el" href="../../de/d31/classorg_1_1apache_1_1lucene_1_1store_1_1_data_output.html#ad7635bb87c66c8f159bc66cc2ffc9471">String</a> | BinaryValue | Int | Float | Long | Double depending on Type </li>
<li>
BinaryValue &ndash;&gt; ValueLength &lt;Byte&gt;<sup>ValueLength</sup> </li>
<li>
ChunkCount &ndash;&gt; the number of chunks in this file </li>
<li>
DirtyChunkCount &ndash;&gt; the number of prematurely flushed chunks in this file </li>
<li>
Footer &ndash;&gt; <a class="el" href="../../d3/d43/classorg_1_1apache_1_1lucene_1_1codecs_1_1_codec_util.html#a7ef45e9d2a2b37cc1ce1ce5e77876c52">CodecFooter</a> </li>
</ul>
<p class="endli">Notes </p><ul>
<li>
If documents are larger than 16KB then chunks will likely contain only one document. However, documents can never spread across several chunks (all fields of a single document are in the same chunk). </li>
<li>
When at least one document in a chunk is large enough so that the chunk is larger than 32KB, the chunk will actually be compressed in several LZ4 blocks of 16KB. This allows <a class="el" href="../../">StoredFieldVisitor</a>s which are only interested in the first fields of a document to not have to decompress 10MB of data if the document is 10MB, but only 16KB. </li>
<li>
Given that the original lengths are written in the metadata of the chunk, the decompressor can leverage this information to stop decoding as soon as enough data has been decompressed. </li>
<li>
In case documents are incompressible, CompressedDocs will be less than 0.5% larger than Docs. </li>
</ul>
</li>
<li>
<p class="startli"><a class="anchor" id="field_index"></a> </p>
<p>A fields index file (extension <code>.fdx</code>).</p>
<ul>
<li>
FieldsIndex (.fdx) &ndash;&gt; &lt;Header&gt;, &lt;ChunkIndex&gt;, Footer </li>
<li>
Header &ndash;&gt; <a class="el" href="../../d3/d43/classorg_1_1apache_1_1lucene_1_1codecs_1_1_codec_util.html#ab2dd6479e3f70b5f0a424b6530383a90">IndexHeader</a> </li>
<li>
ChunkIndex: See <a class="el" href="../../">CompressingStoredFieldsIndexWriter</a> </li>
<li>
Footer &ndash;&gt; <a class="el" href="../../d3/d43/classorg_1_1apache_1_1lucene_1_1codecs_1_1_codec_util.html#a7ef45e9d2a2b37cc1ce1ce5e77876c52">CodecFooter</a> </li>
</ul>
</li>
</ol>
<p><b>Known limitations</b> </p>
<p>This <a class="el" href="../../db/d31/classorg_1_1apache_1_1lucene_1_1codecs_1_1_stored_fields_format.html">StoredFieldsFormat</a> does not support individual documents larger than (<code>2<sup>31</sup> - 2<sup>14</sup></code>) bytes. .experimental </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a1ee438b6d88b2285ec4b72955db4f7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee438b6d88b2285ec4b72955db4f7b4">&#9670;&nbsp;</a></span>MODE_KEY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String org.apache.lucene.codecs.lucene50.Lucene50StoredFieldsFormat.MODE_KEY = Lucene50StoredFieldsFormat.class.getSimpleName() + &quot;.mode&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attribute key for compression mode. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/vkroz/src/oss/lucene-solr/lucene/core/src/java/org/apache/lucene/codecs/lucene50/Lucene50StoredFieldsFormat.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>apache</b></li><li class="navelem"><a class="el" href="../../d8/d76/namespaceorg_1_1apache_1_1lucene.html">lucene</a></li><li class="navelem"><a class="el" href="../../d4/dc8/namespaceorg_1_1apache_1_1lucene_1_1codecs.html">codecs</a></li><li class="navelem"><a class="el" href="../../da/df1/namespaceorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50.html">lucene50</a></li><li class="navelem"><a class="el" href="../../da/db4/classorg_1_1apache_1_1lucene_1_1codecs_1_1lucene50_1_1_lucene50_stored_fields_format.html">Lucene50StoredFieldsFormat</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
